# Integrations

Для повышения удобства работы и скорости взаимодействия существуют следующие команды для сторонних сервисов. Основной целью является сбор уведомлений и синхронизация сообщений/комментариев. Прочие команды существуют для удобства.

## 1. Команды чат-бота для GitHub

### 1. Работа с репозиторием

- `@gh repo link <имя/ссылка на репозиторий>` – связывает репозиторий со стримом
- `@gh repo unlink <имя/ссылка на репозиторий>` – отвязывает репозиторий от стрима

### 2. Работа с Issue

- `@gh issue link <имя/номер/ссылка на issue>` – связывает Issue с тредом
- `@gh issue unlink <имя/номер/ссылка на issue>` – отвязывает Issue от тредом
- `@gh issue <имя/номер/ссылка на issue> comment <сообщение>` – добавить комментарий к Issue (если тред не связан с Issue)
- `@gh issue <имя/номер/ссылка на issue> close` – закрыть Issue

### 2. Работа с Pull Request'ами (PR)

- `@gh pr link <имя/номер/ссылка на pr>` – связывает PR с тредом
- `@gh pr unlink <имя/номер/ссылка на pr>` – отвязывает PR от тредом
- `@gh pr <имя/номер/ссылка на pr> request-changes <сообщение>` – запросить изменения в PR
- `@gh pr <имя/номер/ссылка на pr> approve` – одобрить PR
- `@gh pr <имя/номер/ссылка на pr> merge` – смержить PR
- `@gh pr <имя/номер/ссылка на pr> comment <сообщение>` – добавить комментарий к PR (если тред не связан с PR)

### 3. Работа с релизами

- `@gh release link <имя/ссылка на репозиторий>` – связать уведомления о релизах с тредом
- `@gh release unlink <имя/ссылка на репозиторий>` – отвязать уведомления о релизах от треда
- `@gh release <имя/ссылка на репозиторий>` – вывести список релизов

### 4. Работа с CI

- `@gh ci link <имя/ссылка на репозиторий>`  – связывает уведомления CI с тредом
- `@gh ci unlink <имя/ссылка на репозиторий>` – отвязывает уведомления CI от треда
- `@gh ci <имя/ссылка на репозиторий> <ref>` – вывести текущий статус CI для ref'а (опционально: хеш коммита, ссылка на коммит, имя ветки, ссылка на ветку, номер pr, ссылка на pr)
- `@gh ci run <имя/ссылка на репозиторий> <workflow-name> <ref>` – запустить указанный workflow для ref'а в репозитории. Если workflow создало артефакты, пришлет артефакты.

## Опциональные параметры команд

Для следующих команд ссылка на репозиторий/команду/pr является опциональной, если команда запущена из треда/стрима, к которому привязан репозиторий/команда/pr:

- `@gh repo unlink <имя/ссылка на репозиторий>`
- `@gh issue unlink <имя/номер/ссылка на issue>`
- `@gh issue <имя/номер/ссылка на issue> comment <сообщение>`
- `@gh issue <имя/номер/ссылка на issue> close`
- `@gh pr unlink <имя/номер/ссылка на pr>`
- `@gh pr <имя/номер/ссылка на pr> request-changes <сообщение>`
- `@gh pr <имя/номер/ссылка на pr> approve`
- `@gh pr <имя/номер/ссылка на pr> merge`
- `@gh pr <имя/номер/ссылка на pr> comment <сообщение>`
- `@gh release <имя/ссылка на репозиторий>`
- `@gh release unlink <имя/ссылка на репозиторий>`
- `@gh ci <имя/ссылка на репозиторий> <ref>`
- `@gh ci unlink <имя/ссылка на репозиторий>`
